<div class="relative bg-white dark:bg-gray-900 rounded-xl shadow-md overflow-hidden flex flex-col items-center justify-between p-4 h-72 group transition-transform duration-200 hover:scale-105 border border-gray-100 dark:border-gray-800 cursor-pointer"
    (click)="comprar(producto()!)">
    <picture class="w-full h-full flex-1 flex items-center justify-center mb-3">
        <img [src]="producto().imagenUrl || 'placeholder.jpg'" alt="{{producto().nombre}}"
            class="object-cover h-35 w-full rounded-md bg-gray-100 dark:bg-gray-800" />
    </picture>
    <div class="w-full flex flex-col">
        <span
            class="block text-base font-semibold text-gray-800 dark:text-gray-100 mb-1 truncate">{{producto().nombre}}</span>
        <span class="block text-lg font-bold text-cyan-700 dark:text-cyan-300 mb-2">{{ producto().precio |
            currency:'PEN':'symbol':'1.2-2' }}</span>
        <span *ngIf="producto().stock === 0"
            class="inline-block px-2 py-1 text-xs font-semibold rounded bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-200 mb-2">Agotado</span>
        <span *ngIf="producto().stock && producto().stock || 0 > 0"
            class="inline-block px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200 mb-2">Stock:
            {{producto().stock}}</span>
    </div>
    @if (producto().stock! >= 1) {
    <button (click)="agregarProducto.emit(producto()); $event.stopPropagation();"
        class="absolute bottom-4 right-1 -translate-x-1/2 px-4 py-2 rounded-lg bg-cyan-600 text-white font-semibold shadow hover:bg-cyan-700 transition">
        AÃ±adir al carrito
    </button>
    }

</div>